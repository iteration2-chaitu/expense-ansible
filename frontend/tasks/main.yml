- name: Install Nginx
  ansible.builtin.dnf:
    name:  nginx
    state:  latest

- name:  copy expense nginx configuration
  ansible.builtin.copy:
    src:  expense.conf
    dest:  /etc/nginx/default.d/expense.conf

- name: import the app pre requisites
  ansible.builtin.import_role:
    name:   common
    state:   app-pre-req

- name: Start or restart Nginx
  ansible.builtin.systemd:
    name: nginx
    state: restarted
    enabled:  yes